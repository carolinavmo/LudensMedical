<!-- Question form for AJAX requests -->
<form action="{{ url_for('admin_question_new', quiz_id=quiz.id) }}" method="POST" class="space-y-4" id="question-ajax-form">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    
    <div class="grid grid-cols-1 gap-4">
        <div>
            <label for="question" class="block text-sm font-medium text-gray-700">Question</label>
            {{ form.question(class="mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500") }}
            {% if form.question.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.question.errors %}
                <span>{{ error }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        
        <div>
            <label for="option1" class="block text-sm font-medium text-gray-700">Option 1</label>
            {{ form.option1(class="mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500") }}
            {% if form.option1.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.option1.errors %}
                <span>{{ error }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        
        <div>
            <label for="option2" class="block text-sm font-medium text-gray-700">Option 2</label>
            {{ form.option2(class="mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500") }}
            {% if form.option2.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.option2.errors %}
                <span>{{ error }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        
        <div>
            <label for="option3" class="block text-sm font-medium text-gray-700">Option 3 (Optional)</label>
            {{ form.option3(class="mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500") }}
            {% if form.option3.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.option3.errors %}
                <span>{{ error }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        
        <div>
            <label for="option4" class="block text-sm font-medium text-gray-700">Option 4 (Optional)</label>
            {{ form.option4(class="mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500") }}
            {% if form.option4.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.option4.errors %}
                <span>{{ error }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        
        <div>
            <label for="correct_answer" class="block text-sm font-medium text-gray-700">Correct Answer</label>
            {{ form.correct_answer(class="mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500") }}
            {% if form.correct_answer.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.correct_answer.errors %}
                <span>{{ error }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        
        <div>
            <label for="order" class="block text-sm font-medium text-gray-700">Question Order</label>
            {{ form.order(class="mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500") }}
            {% if form.order.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.order.errors %}
                <span>{{ error }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
    </div>
    
    <div class="flex justify-end space-x-3 mt-4">
        <button 
            type="button" 
            id="cancel-question-btn" 
            class="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"
        >
            Cancel
        </button>
        <button 
            type="submit" 
            class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"
        >
            Save Question
        </button>
    </div>
</form>